<svg width="900" height="600" xmlns="http://www.w3.org/2000/svg">
  <!-- Background transparent -->
  
  <!-- Title -->
  <text x="450" y="30" text-anchor="middle" fill="#f7fafc" 
        font-family="Arial, sans-serif" font-size="20" font-weight="bold">
    Smart Transport Routing Strategy
  </text>
  
  <!-- Central SmartMessage Router -->
  <rect x="375" y="250" width="150" height="100" 
        fill="#2d3748" stroke="#4299e1" stroke-width="3" rx="10"/>
  <text x="450" y="280" text-anchor="middle" fill="#bee3f8" 
        font-family="Arial, sans-serif" font-size="14" font-weight="bold">
    SmartMessage
  </text>
  <text x="450" y="300" text-anchor="middle" fill="#90cdf4" 
        font-family="Arial, sans-serif" font-size="12">
    Transport Router
  </text>
  <text x="450" y="320" text-anchor="middle" fill="#90cdf4" 
        font-family="Arial, sans-serif" font-size="12">
    &amp; Message
  </text>
  <text x="450" y="335" text-anchor="middle" fill="#90cdf4" 
        font-family="Arial, sans-serif" font-size="12">
    Abstraction
  </text>
  
  <!-- Agent99 Source -->
  <rect x="50" y="50" width="120" height="60" 
        fill="#1a365d" stroke="#2c5282" stroke-width="2" rx="8"/>
  <text x="110" y="85" text-anchor="middle" fill="#bee3f8" 
        font-family="Arial, sans-serif" font-size="12" font-weight="bold">
    Agent99
  </text>
  <text x="110" y="100" text-anchor="middle" fill="#90cdf4" 
        font-family="Arial, sans-serif" font-size="10">
    Source Agent
  </text>
  
  <!-- Decision Logic -->
  <polygon points="200,280 280,250 360,280 280,310" 
           fill="#553c9a" stroke="#7c3aed" stroke-width="2"/>
  <text x="280" y="275" text-anchor="middle" fill="#e9d5ff" 
        font-family="Arial, sans-serif" font-size="11" font-weight="bold">
    Route
  </text>
  <text x="280" y="290" text-anchor="middle" fill="#e9d5ff" 
        font-family="Arial, sans-serif" font-size="11" font-weight="bold">
    Decision
  </text>
  
  <!-- Transport Options -->
  
  <!-- Lanet P2P (Same LAN) -->
  <rect x="600" y="100" width="200" height="80" 
        fill="#065f46" stroke="#10b981" stroke-width="2" rx="8"/>
  <text x="700" y="125" text-anchor="middle" fill="#d1fae5" 
        font-family="Arial, sans-serif" font-size="14" font-weight="bold">
    Lanet Transport
  </text>
  <text x="700" y="145" text-anchor="middle" fill="#a7f3d0" 
        font-family="Arial, sans-serif" font-size="12">
    Direct P2P LAN
  </text>
  <text x="700" y="160" text-anchor="middle" fill="#a7f3d0" 
        font-family="Arial, sans-serif" font-size="10">
    Encrypted, Low Latency
  </text>
  <text x="700" y="175" text-anchor="middle" fill="#6ee7b7" 
        font-family="Arial, sans-serif" font-size="10" font-weight="bold">
    Same Network Segment
  </text>
  
  <!-- NATS (WAN/Internet) -->
  <rect x="600" y="260" width="200" height="80" 
        fill="#92400e" stroke="#f59e0b" stroke-width="2" rx="8"/>
  <text x="700" y="285" text-anchor="middle" fill="#fef3c7" 
        font-family="Arial, sans-serif" font-size="14" font-weight="bold">
    NATS Transport
  </text>
  <text x="700" y="305" text-anchor="middle" fill="#fde68a" 
        font-family="Arial, sans-serif" font-size="12">
    Internet/WAN
  </text>
  <text x="700" y="320" text-anchor="middle" fill="#fde68a" 
        font-family="Arial, sans-serif" font-size="10">
    High Performance Broker
  </text>
  <text x="700" y="335" text-anchor="middle" fill="#fcd34d" 
        font-family="Arial, sans-serif" font-size="10" font-weight="bold">
    Cross-Network
  </text>
  
  <!-- AMQP (Enterprise) -->
  <rect x="600" y="420" width="200" height="80" 
        fill="#7c2d12" stroke="#dc2626" stroke-width="2" rx="8"/>
  <text x="700" y="445" text-anchor="middle" fill="#fef2f2" 
        font-family="Arial, sans-serif" font-size="14" font-weight="bold">
    AMQP Transport
  </text>
  <text x="700" y="465" text-anchor="middle" fill="#fecaca" 
        font-family="Arial, sans-serif" font-size="12">
    Enterprise Grade
  </text>
  <text x="700" y="480" text-anchor="middle" fill="#fecaca" 
        font-family="Arial, sans-serif" font-size="10">
    Guaranteed Delivery
  </text>
  <text x="700" y="495" text-anchor="middle" fill="#f87171" 
        font-family="Arial, sans-serif" font-size="10" font-weight="bold">
    Critical Messages
  </text>
  
  <!-- Decision Labels -->
  <text x="480" y="130" text-anchor="middle" fill="#a7f3d0" 
        font-family="Arial, sans-serif" font-size="10" font-weight="bold">
    same_lan?()
  </text>
  <text x="480" y="280" text-anchor="middle" fill="#fcd34d" 
        font-family="Arial, sans-serif" font-size="10" font-weight="bold">
    cross_network?()
  </text>
  <text x="480" y="430" text-anchor="middle" fill="#f87171" 
        font-family="Arial, sans-serif" font-size="10" font-weight="bold">
    reliable_required?()
  </text>
  
  <!-- Arrows -->
  <defs>
    <marker id="arrowhead" markerWidth="10" markerHeight="7" 
            refX="9" refY="3.5" orient="auto">
      <polygon points="0 0, 10 3.5, 0 7" fill="#cbd5e0"/>
    </marker>
    <marker id="greenarrow" markerWidth="10" markerHeight="7" 
            refX="9" refY="3.5" orient="auto">
      <polygon points="0 0, 10 3.5, 0 7" fill="#10b981"/>
    </marker>
    <marker id="yellowarrow" markerWidth="10" markerHeight="7" 
            refX="9" refY="3.5" orient="auto">
      <polygon points="0 0, 10 3.5, 0 7" fill="#f59e0b"/>
    </marker>
    <marker id="redarrow" markerWidth="10" markerHeight="7" 
            refX="9" refY="3.5" orient="auto">
      <polygon points="0 0, 10 3.5, 0 7" fill="#dc2626"/>
    </marker>
  </defs>
  
  <!-- Flow from Agent99 to Decision -->
  <line x1="170" y1="80" x2="240" y2="260" 
        stroke="#cbd5e0" stroke-width="2" marker-end="url(#arrowhead)"/>
  
  <!-- Flow from Decision to SmartMessage -->
  <line x1="330" y1="280" x2="375" y2="300" 
        stroke="#4299e1" stroke-width="2" marker-end="url(#arrowhead)"/>
  
  <!-- Flow to transports -->
  <line x1="525" y1="280" x2="580" y2="140" 
        stroke="#10b981" stroke-width="3" marker-end="url(#greenarrow)"/>
  <line x1="525" y1="300" x2="580" y2="300" 
        stroke="#f59e0b" stroke-width="3" marker-end="url(#yellowarrow)"/>
  <line x1="525" y1="320" x2="580" y2="460" 
        stroke="#dc2626" stroke-width="3" marker-end="url(#redarrow)"/>
</svg>