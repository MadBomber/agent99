<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 800 400" style="background: transparent;">
  <defs>
    <marker id="arrow-life" markerWidth="10" markerHeight="10" refX="9" refY="5" orient="auto">
      <path d="M0,0 L10,5 L0,10 L5,5 z" fill="#66b3ff"/>
    </marker>
    <filter id="shadow">
      <feGaussianBlur in="SourceAlpha" stdDeviation="3"/>
      <feOffset dx="2" dy="2" result="offsetblur"/>
      <feComponentTransfer>
        <feFuncA type="linear" slope="0.3"/>
      </feComponentTransfer>
      <feMerge>
        <feMergeNode/>
        <feMergeNode in="SourceGraphic"/>
      </feMerge>
    </filter>
  </defs>
  
  <!-- Title -->
  <text x="400" y="30" text-anchor="middle" font-family="monospace" font-size="18" fill="#e0e0e0" font-weight="bold">Agent Lifecycle State Machine</text>
  
  <!-- States -->
  <!-- Created -->
  <circle cx="120" cy="200" r="50" fill="#2a2a3e" stroke="#66b3ff" stroke-width="3" filter="url(#shadow)"/>
  <text x="120" y="200" text-anchor="middle" font-family="monospace" font-size="14" fill="#99ccff" font-weight="bold">Created</text>
  <text x="120" y="220" text-anchor="middle" font-family="monospace" font-size="10" fill="#66b3ff">new()</text>
  
  <!-- Initialized -->
  <circle cx="320" cy="200" r="50" fill="#2a2a3e" stroke="#66ff99" stroke-width="3" filter="url(#shadow)"/>
  <text x="320" y="200" text-anchor="middle" font-family="monospace" font-size="14" fill="#99ffcc" font-weight="bold">Initialized</text>
  <text x="320" y="220" text-anchor="middle" font-family="monospace" font-size="10" fill="#66ff99">init() called</text>
  
  <!-- Running -->
  <circle cx="520" cy="200" r="50" fill="#2a2a3e" stroke="#ffcc66" stroke-width="3" filter="url(#shadow)"/>
  <text x="520" y="200" text-anchor="middle" font-family="monospace" font-size="14" fill="#ffdd99" font-weight="bold">Running</text>
  <text x="520" y="220" text-anchor="middle" font-family="monospace" font-size="10" fill="#ffcc66">Processing</text>
  
  <!-- Shutdown -->
  <circle cx="700" cy="200" r="50" fill="#2a2a3e" stroke="#ff6666" stroke-width="3" filter="url(#shadow)"/>
  <text x="700" y="200" text-anchor="middle" font-family="monospace" font-size="14" fill="#ff9999" font-weight="bold">Shutdown</text>
  <text x="700" y="220" text-anchor="middle" font-family="monospace" font-size="10" fill="#ff6666">fini() called</text>
  
  <!-- Transitions -->
  <!-- Created to Initialized -->
  <path d="M 170 200 L 270 200" stroke="#66b3ff" stroke-width="2" marker-end="url(#arrow-life)"/>
  <text x="220" y="190" text-anchor="middle" font-family="monospace" font-size="11" fill="#99ccff">initialize()</text>
  
  <!-- Initialized to Running -->
  <path d="M 370 200 L 470 200" stroke="#66ff99" stroke-width="2" marker-end="url(#arrow-life)"/>
  <text x="420" y="190" text-anchor="middle" font-family="monospace" font-size="11" fill="#99ffcc">start()</text>
  
  <!-- Running to Shutdown -->
  <path d="M 570 200 L 650 200" stroke="#ffcc66" stroke-width="2" marker-end="url(#arrow-life)"/>
  <text x="610" y="190" text-anchor="middle" font-family="monospace" font-size="11" fill="#ffdd99">stop()</text>
  
  <!-- Error paths -->
  <!-- Created to Shutdown (error) -->
  <path d="M 120 250 Q 400 350 700 250" stroke="#ff6666" stroke-width="1.5" stroke-dasharray="5,3" marker-end="url(#arrow-life)" opacity="0.6"/>
  <text x="400" y="340" text-anchor="middle" font-family="monospace" font-size="10" fill="#ff9999">Error/Abort</text>
  
  <!-- Initialized to Shutdown (error) -->
  <path d="M 320 250 Q 500 320 700 250" stroke="#ff6666" stroke-width="1.5" stroke-dasharray="5,3" marker-end="url(#arrow-life)" opacity="0.6"/>
  
  <!-- Self-loop on Running -->
  <path d="M 520 150 Q 580 100 520 150" stroke="#ffcc66" stroke-width="1.5" marker-end="url(#arrow-life)" fill="none"/>
  <text x="550" y="95" text-anchor="middle" font-family="monospace" font-size="10" fill="#ffdd99">process_request()</text>
  
  <!-- Phase labels -->
  <text x="120" y="100" text-anchor="middle" font-family="monospace" font-size="12" fill="#666" font-style="italic">Setup</text>
  <text x="320" y="100" text-anchor="middle" font-family="monospace" font-size="12" fill="#666" font-style="italic">Configuration</text>
  <text x="520" y="100" text-anchor="middle" font-family="monospace" font-size="12" fill="#666" font-style="italic">Operation</text>
  <text x="700" y="100" text-anchor="middle" font-family="monospace" font-size="12" fill="#666" font-style="italic">Cleanup</text>
</svg>